@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
  --font-size-base: 16px;
  --grad-amarillo: rgba(250, 204, 21, 0.18);
  --grad-amarillo-claro: rgba(254, 243, 199, 0.12);
  --grad-verde: rgba(220, 252, 231, 0.18);
}

/* Paleta y tokens para aspecto profesional */
:root {
  --brand-green-600: #059669;
  --brand-green-500: #10b981;
  --brand-yellow-500: #f59e0b;
  --text-primary: #0b3a03;
  --muted: #6b7280;
  --card-bg: rgba(255,255,255,0.98);
  --glass-border: rgba(11,58,3,0.06);
  --elevation-1: 0 6px 18px rgba(6,30,12,0.06);
  --elevation-2: 0 18px 40px rgba(6,30,12,0.12);
  --transition-fast: 180ms cubic-bezier(.2,.9,.3,1);
}

:root {
  /* Inline theme variables (replaced invalid @theme at-rule) */
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

/* Tipografía fluid: escala básica */
html{ font-size: var(--font-size-base); }

/* Ajustes responsivos: aumentan tamaño en pantallas grandes */
@media (min-width: 640px) {
  :root{ --font-size-base: 16px; }
}
@media (min-width: 1024px) {
  :root{ --font-size-base: 17px; }
}
@media (min-width: 1280px) {
  :root{ --font-size-base: 18px; }
}

/* Contenedor máximo y ajustes móviles por si alguna página no usa Tailwind */
.container {
  width: 100%;
  margin-left: auto;
  margin-right: auto;
  padding-left: 1rem;
  padding-right: 1rem;
  max-width: 1280px;
}

/* Mejor experiencia en móviles: clickable areas, legibilidad */
button, a { touch-action: manipulation; }
input, textarea, select { font-size: 1rem; }

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* Asegura que el canvas de Chart.js use todo el contenedor responsive */
.chartjs-hidden-iframe { display: none; }
.chart-container, .chart-wrapper { width: 100%; height: 100%; }
canvas { max-width: 100% !important; height: 100% !important; }

/* Imágenes de lugares: tamaños responsivos.
   - En pantallas pequeñas se muestran más pequeñas (ej. 80-120px).
   - En pantallas grandes conservan tamaño mayor (auto / 100% del contenedor).
   Añade class="lugar-imagen" a las <img> de la página principal si quieres objetivo exacto. */
.lugar-imagen {
  width: 220px;
  height: 140px;
  object-fit: cover;
  border-radius: 6px;
}

/* Ajuste global para imágenes dentro de tarjetas de lugar si no usas la clase */
.lugar-card img,
.card-lugar img,
.bg-white img.lugar {
  width: 220px;
  height: 140px;
  object-fit: cover;
  border-radius: 6px;
}

/* Pantallas pequeñas: reducir tamaño de las imágenes para que la página se vea compacta */
@media (max-width: 640px) {
  .lugar-imagen,
  .lugar-card img,
  .card-lugar img,
  .bg-white img.lugar {
    width: 96px;
    height: 64px;
  }
}

/* Ajuste ligero para pantallas intermedias */
@media (min-width: 641px) and (max-width: 1024px) {
  .lugar-imagen,
  .lugar-card img,
  .card-lugar img,
  .bg-white img.lugar {
    width: 160px;
    height: 100px;
  }
}

/* Negocios / emprendedores: imágenes y tarjetas responsivas */
/* Usa class="negocio-card" en el contenedor y class="negocio-image" en la <img> del negocio */

/* Tarjeta de negocio - diseño profesional y limpio */
.negocio-card {
  display: flex;
  gap: 1rem;
  align-items: stretch;
  padding: 1rem;
  border-radius: 12px;
  background: var(--card-bg);
  border: 1px solid var(--glass-border);
  box-shadow: var(--elevation-1);
  transition: transform var(--transition-fast), box-shadow var(--transition-fast), border-color var(--transition-fast);
  position: relative;
  overflow: hidden;
}

/* Elevación y claridad al hover */
.negocio-card:hover {
  transform: translateY(-6px);
  box-shadow: var(--elevation-2);
  border-color: rgba(6,78,59,0.10);
}

/* Imagen con ratio fijo y cover */
.negocio-image {
  width: 160px;
  min-width: 160px;
  height: 120px;
  object-fit: cover;
  border-radius: 8px;
  border: 1px solid rgba(0,0,0,0.04);
  flex-shrink: 0;
  background: linear-gradient(180deg,#f8fff5,#ffffff);
}

/* Contenido: claro, jerarquía tipográfica */
.negocio-info {
  display: flex;
  flex-direction: column;
  gap: 0.4rem;
  flex: 1;
  min-width: 0;
}
.negocio-title {
  font-size: 1.05rem;
  font-weight: 700;
  color: var(--text-primary);
  margin: 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.negocio-meta {
  display:flex;
  gap:0.5rem;
  align-items:center;
  color: var(--muted);
  font-size: 0.9rem;
}
.negocio-desc {
  color: #334155;
  font-size: 0.95rem;
  line-height: 1.3;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Actions alineadas a la derecha/bottom */
.negocio-actions {
  display:flex;
  gap:0.5rem;
  margin-top: auto;
  align-items: center;
}

/* Small controls */
.negocio-actions .btn {
  padding: 0.38rem 0.6rem;
  font-size: 0.85rem;
  border-radius: 8px;
}

/* Badge discreto */
.negocio-badge {
  font-size: 0.75rem;
  padding: 0.18rem 0.5rem;
  border-radius: 999px;
  background: linear-gradient(90deg, rgba(250,204,21,0.12), rgba(220,252,231,0.10));
  color: var(--brand-green-600);
  border: 1px solid rgba(6,78,59,0.06);
}

/* Ribbon opcional, discreto y profesional */
.corner-ribbon {
  position: absolute;
  top: 10px;
  right: -36px;
  width: 140px;
  text-align: center;
  transform: rotate(45deg);
  background: linear-gradient(90deg,var(--brand-yellow-500), var(--brand-green-500));
  color: #fff;
  padding: 6px 0;
  font-weight:700;
  font-size: 0.78rem;
  border-radius: 6px;
  box-shadow: 0 6px 14px rgba(0,0,0,0.08);
}

/* responsive: columna en móvil */
@media (max-width: 640px) {
  .negocio-card { flex-direction: column; gap: 0.6rem; }
  .negocio-image { width: 100%; height: 160px; min-width: auto; border-radius: 8px; }
  .corner-ribbon { display:none; }
}

/* Fondo específico para la página de emprendedores: imagen y overlay */
.emprendedores-bg {
  position: relative;
  padding: 2rem 0; /* espacio vertical para el contenido */
  background: transparent;
}
.emprendedores-bg::before {
  content: '';
  position: absolute;
  inset: 0;
  /* la imagen está en public/images/lugares */
  background-image: url('/images/lugares/emprendimiento.jpg');
  background-size: cover;
  background-position: center center;
  /* Marca de agua: muy baja presencia visual */
  opacity: 0.12; /* antes 0.28 */
  filter: saturate(0.85) contrast(0.95) blur(0.6px);
  z-index: 0;
}
.emprendedores-bg > .container { position: relative; z-index: 2; }

/* Variante glass para las tarjetas de negocio: usa backdrop-filter para desenfoque */
.negocio-card.glass {
  /* Tarjeta 'glass' más clara y profesional: mayor luminosidad, bordes más suaves
     y sombra más contenida para evitar el efecto oscuro en móviles. */
  background: rgba(255,255,255,0.92);
  border: 1px solid rgba(11,58,3,0.045);
  box-shadow: 0 8px 20px rgba(6,30,12,0.06);
  backdrop-filter: blur(4px) saturate(1.03);
}

@media (prefers-color-scheme: dark) {
  .negocio-card.glass {
    background: rgba(6,6,6,0.48);
    border: 1px solid rgba(255,255,255,0.04);
  }
}

/* Fondo para la página de Favoritos (iglesia) */
.favoritos-bg {
  position: relative;
  padding: 2rem 0;
  min-height: 320px; /* asegura que el área tenga altura mínima visible */
  background: transparent;
}
.favoritos-bg::before {
  /* usar fixed para cubrir toda la ventana (full-bleed) */
  content: '';
  position: fixed;
  inset: 0; /* top:0; right:0; bottom:0; left:0 */
  background-image: url('/images/lugares/iglesia.jpg');
  background-size: cover;
  background-position: center center;
  background-repeat: no-repeat;
  background-attachment: fixed;
  /* Marca de agua sutil */
  opacity: 0.14; /* antes 0.26 */
  filter: saturate(0.85) contrast(0.95) blur(0.6px);
  z-index: 0;
  pointer-events: none;
}
.favoritos-bg > .container { position: relative; z-index: 2; }

/* Variante glass específica para tarjetas de favoritos */
.favorito-card.glass {
  background: rgba(255,255,255,0.7);
  border: 1px solid rgba(11,58,3,0.06);
  box-shadow: 0 10px 30px rgba(6,30,12,0.08);
  backdrop-filter: blur(6px) saturate(1.05);
}

/* --- Overrides y mejoras específicas para la página de emprendedores --- */
/* Botón 'Mis perfiles' pasa a amarillo fuerte para destacarse (accesible y consistente) */
.emprendedores-page .flex.items-center > button.bg-gray-800 {
  background: var(--brand-yellow-500) !important; /* #f59e0b */
  color: #062e03 !important; /* texto oscuro para buen contraste */
  font-weight: 700 !important;
  box-shadow: 0 8px 20px rgba(245,158,11,0.12) !important;
  border: 1px solid rgba(0,0,0,0.06) !important;
}
.emprendedores-page .flex.items-center > button.bg-gray-800:hover {
  filter: brightness(0.95) !important;
}

/* Aclarar y reducir la sensación de 'gris' en módulos reutilizables dentro de emprendedores */
.emprendedores-page .module-gray {
  background: rgba(255,255,255,0.9) !important;
  border: 1px solid rgba(6,30,12,0.04) !important;
  box-shadow: 0 6px 18px rgba(6,30,12,0.04) !important;
}

/* Mobile tweaks: tarjetas más luminosas y sin blur pesado en pantallas pequeñas */
@media (max-width: 640px) {
  .negocio-card.glass {
    background: rgba(255,255,255,0.98) !important;
    box-shadow: 0 8px 22px rgba(6,30,12,0.06) !important;
    border: 1px solid rgba(6,30,12,0.04) !important;
    backdrop-filter: none !important;
  }

  /* Asegurar que los botones dentro de la fila de controles no ocupen demasiado espacio */
  .emprendedores-page .flex.items-center > button {
    padding: 0.5rem 0.8rem !important;
    font-size: 0.95rem !important;
    border-radius: 10px !important;
  }
}

/* Pequeños toques estéticos para que las tarjetas luzcan más profesionales: imagen con borde sutil */
.negocio-card img {
  border-radius: 10px !important;
  box-shadow: 0 6px 18px rgba(6,30,12,0.06) !important;
  border: 1px solid rgba(0,0,0,0.04) !important;
}


@media (prefers-color-scheme: dark) {
  .favorito-card.glass { background: rgba(6,6,6,0.5); border: 1px solid rgba(255,255,255,0.04); }
}

/* Calendar responsive rules */
.calendar-wrapper {
  overflow: auto; /* permite scroll horizontal en pantallas pequeñas */
  -webkit-overflow-scrolling: touch;
  padding-bottom: 1rem;
}
.calendar-grid { min-width: 700px; } /* ancho base para 7 columnas */
.calendar-weekday { padding: 0.25rem 0; }
.calendar-cell { min-width: 100px; }

/* Mobile: permitir que la grilla sea compacta con scroll horizontal y celdas más pequeñas */
@media (max-width: 640px) {
  .calendar-grid { min-width: 560px; font-size: 0.85rem; }
  .calendar-cell { min-width: 80px; min-height: 72px; padding: 0.5rem; }
  .calendar-cell .truncate { max-width: 120px; }
  .calendar-wrapper { padding-left: 0.5rem; padding-right: 0.5rem; }
}

/* Tablet / desktop: aumentar densidad y altura de celdas */
@media (min-width: 1024px) {
  .calendar-grid { min-width: 100%; grid-template-columns: repeat(7, 1fr); }
  .calendar-cell { min-height: 110px; }
  .calendar-wrapper { overflow: visible; }
}

/* Mejora visual de eventos en celda: truncado y hover */
.calendar-cell .flex .truncate { display: inline-block; max-width: 100%; }
.calendar-cell:hover { transform: translateY(-4px); }

/* Notificaciones: diseño moderno y accesible */
.noti-list { display: block; }
.noti-item {
  display: flex;
  gap: 1rem;
  align-items: flex-start;
  padding: 1rem;
  border-radius: 10px;
  background: rgba(255,255,255,0.86);
  border: 1px solid rgba(6,30,12,0.06);
  box-shadow: 0 8px 22px rgba(6,30,12,0.06);
  backdrop-filter: blur(6px) saturate(1.02);
  transition: transform .14s ease, box-shadow .14s ease;
}
.noti-item:hover { transform: translateY(-6px); box-shadow: 0 18px 40px rgba(6,30,12,0.12); }
.noti-icon {
  width: 56px;
  height: 56px;
  min-width: 56px;
  border-radius: 10px;
  background: linear-gradient(180deg,#f7fdfa,#ecfdf5);
  display:flex; align-items:center; justify-content:center; font-size:1.25rem;
  border: 1px solid rgba(6,30,12,0.04);
}
.noti-content { flex: 1; min-width: 0; }
.noti-title { font-weight:700; color: #0b61a8; margin-bottom:0.35rem; }
.noti-body { color: #334155; line-height:1.4; }
.noti-date { color: #94a3b8; font-size:0.82rem; margin-top:0.5rem; }

/* Slight variant for event vs negocio (color accents) */
.noti-item[data-type="negocio"] .noti-icon { background: linear-gradient(180deg,#fff7ed,#fff5f0); }
.noti-item[data-type="evento"] .noti-icon { background: linear-gradient(180deg,#f0f9ff,#eef7ff); }

/* Responsive: en móvil apilar icono encima del contenido */
@media (max-width: 640px) {
  .noti-item { flex-direction: row; gap: 0.8rem; padding: 0.85rem; }
  .noti-icon { width:48px; height:48px; min-width:48px; font-size:1rem; }
}

@media (max-width: 420px) {
  .noti-item { flex-direction: column; align-items: stretch; }
  .noti-icon { align-self: flex-start; }
}

/* Bell icon next to the Notificaciones title */
.noti-bell {
  border: none;
  background: transparent;
  font-size: 1.2rem;
  line-height: 1;
  padding: 6px;
  border-radius: 8px;
  cursor: pointer;
  color: #0b61a8;
  transition: background .12s ease, transform .12s ease;
}
.noti-bell:hover { background: rgba(11,97,168,0.08); transform: translateY(-2px); }
.noti-bell:active { transform: translateY(0); }

/* delete pill for notifications */
.noti-delete {
  background: #ef4444; /* red-500 */
  color: white;
  border: none;
  padding: 0.25rem 0.6rem;
  border-radius: 999px;
  font-size: 0.85rem;
  cursor: pointer;
}
.noti-delete:disabled { opacity: 0.6; cursor: not-allowed; }

/* Dropdown lateral: el contenedor debe tener class="dropdown" y el menú class="dropdown-menu" */
.dropdown {
  position: relative;
  display: inline-block;
}

/* Por defecto en desktop: abrir a la derecha del trigger */
.dropdown-menu {
  position: absolute;
  left: 100%;
  top: 0;
  transform: translateX(8px);
  display: none;
  min-width: 180px;
  background: var(--color-background);
  border: 1px solid rgba(0,0,0,0.08);
  box-shadow: 0 6px 18px rgba(0,0,0,0.08);
  border-radius: 6px;
  z-index: 40;
  padding: 0.5rem 0;
  transition: opacity .12s ease, transform .12s ease;
  opacity: 0;
  pointer-events: none;
}

/* Variante: abrir hacia la izquierda */
.dropdown-menu-left {
  left: auto;
  right: 100%;
  transform: translateX(-8px);
}

/* Mostrar menú cuando el padre tiene :hover o clase .open (compatible con JS toggles) */
.dropdown:hover .dropdown-menu,
.dropdown.open .dropdown-menu {
  display: block;
  opacity: 1;
  pointer-events: auto;
  transform: translateX(0);
}

/* Estilos de items */
.dropdown-menu a,
.dropdown-menu button {
  display: block;
  padding: 0.5rem 0.75rem;
  white-space: nowrap;
  font-size: 0.9rem;
  color: var(--foreground);
  text-decoration: none;
}

/* Hover item */
.dropdown-menu a:hover,
.dropdown-menu button:hover {
  background: rgba(0,0,0,0.03);
}

/* En pantallas pequeñas, revertir a menú vertical debajo del trigger */
@media (max-width: 640px) {
  .dropdown-menu,
  .dropdown-menu-left {
    left: 0 !important;
    right: auto !important;
    top: 100%;
    transform: translateY(6px);
    min-width: 160px;
  }
}

/* Side drawer (panel lateral) --------------------------------------------- */
/* Contenedor del drawer: coloca <nav class="side-drawer"> ... </nav> */
.side-drawer {
  position: fixed;
  top: 0;
  left: 0; /* cambia a right:0 si prefieres que abra desde la derecha */
  height: 100vh;
  width: 0;
  max-width: 320px; /* ancho final */
  overflow: hidden;
  /* Fondo neutro: quitar imagen y usar negro translúcido para que el drawer sea siempre legible
     y coherente entre móvil y desktop. */
  background-color: rgba(0,0,0,0.62);
  background-image: none !important;
  /* capamos la imagen con un pseudo-elemento ::before para añadir overlay sin afectar a los elementos internos */
  box-shadow: 2px 0 12px rgba(0,0,0,0.12);
  transform: translateX(-100%); /* oculto por defecto (fuera de la pantalla) */
  transition: transform .28s cubic-bezier(.2,.8,.2,1), width .2s ease;
  z-index: 60;
  display: flex;
  flex-direction: column;
}

/* Pseudo-elemento que añade un overlay oscuro suave sobre la imagen para mejorar contraste */
.side-drawer::before {
  content: '';
  position: absolute;
  inset: 0;
  /* Desactivamos overlay de la imagen: dejamos transparente para evitar dobles capas
     (el fondo ahora es un negro translúcido en el propio contenedor). */
  background: transparent;
  z-index: 0;
  pointer-events: none;
}

/* Asegurar que el contenido del drawer se renderice por encima del overlay */
.side-drawer > * {
  position: relative;
  z-index: 2;
}

/* Cuando está abierto: se posiciona en pantalla completa del ancho definido */
.side-drawer.open {
  transform: translateX(0);
  width: min(320px, 85%);
}

/* Variante para abrir desde la derecha */
.side-drawer.side-drawer-right {
  left: auto;
  right: 0;
  transform: translateX(100%);
}
.side-drawer.side-drawer-right.open {
  transform: translateX(0);
}

/* Backdrop (fondo oscuro que cierra el drawer al click) */
.side-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.4);
  opacity: 0;
  pointer-events: none;
  transition: opacity .2s ease;
  z-index: 50;
}
.side-backdrop.open {
  opacity: 1;
  pointer-events: auto;
}

/* Contenido del drawer: menú vertical compacto */
.side-drawer .drawer-header {
  padding: 0.75rem 1rem;
  border-bottom: 1px solid rgba(255,255,255,0.06);
  display:flex;
  align-items:center;
  justify-content:space-between;
  color: rgba(255,255,255,0.98); /* texto claro para legibilidad sobre fondo negro translúcido */
  text-shadow: 0 2px 10px rgba(0,0,0,0.55);
}
.side-drawer .drawer-body {
  padding: 0.5rem 0.75rem;
  overflow-y: auto;
  flex: 1;
}
.side-drawer a, .side-drawer button {
  display: block;
  padding: 0.6rem 0.75rem;
  color: rgba(255,255,255,0.96); /* texto claro sobre fondo negro translúcido */
  text-decoration: none;
  font-size: 0.95rem;
  border-radius: 6px;
  transition: background .12s ease, transform .12s ease;
  text-shadow: 0 2px 8px rgba(0,0,0,0.45);
  /* Forzar fondo transparente por defecto dentro del drawer para evitar parches blancos */
  background: transparent !important;
}
.side-drawer a:hover, .side-drawer button:hover {
  /* Evitar parches blancos visibles: usar un brillo muy sutil o ligero fondo oscuro */
  background: rgba(255,255,255,0.02);
  transform: translateX(2px);
}

/* Botón hamburguesa compacto (si no existe) */
.hamburger {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 8px 12px;
  border-radius: 999px;
  background: linear-gradient(180deg,#10b981,#059669) !important; /* solid green pill */
  border: 1px solid rgba(6,78,59,0.12) !important;
  color: #ffffff !important;
  box-shadow: 0 10px 30px rgba(6,78,59,0.18) !important;
  cursor: pointer;
  z-index: 200; /* always above hero */
}

/* Label next to hamburger: green pill to highlight the menu */
.hamburger .menu-label {
  display: inline-block;
  color: #fff;
  padding: 0.18rem 0.45rem;
  border-radius: 999px;
  font-weight: 700;
  font-size: 0.82rem;
  line-height: 1;
  margin-left: 8px;
}

.hamburger.flex.items-center { gap: 0.5rem; }

/* Emoji en los items del menú: tamaño y separación */
.menu-emoji {
  display: inline-block;
  width: 1.4rem;
  text-align: center;
  margin-right: 0.6rem;
  font-size: 1.1rem;
  vertical-align: middle;
}

/* Emoji en círculo blanco para contraste en fondo verde */
.side-drawer .menu-emoji {
  width: 1.6rem;
  height: 1.6rem;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 99px;
  /* usar fondo oscuro sólido para evitar zonas claras */
  background: rgba(0,0,0,0.9) !important;
  color: #ffffff !important; /* icono blanco sobre círculo oscuro */
  margin-right: 0.8rem;
  font-size: 1rem;
  box-shadow: 0 8px 24px rgba(0,0,0,0.7) !important;
}
.side-drawer ul li {
  color: rgba(255,255,255,0.95); /* texto claro */
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.45rem 0.5rem;
  border-radius: 6px;
}

/* Estado seleccionado / activo: asegurar legibilidad (cuando un módulo está seleccionado) */
.side-drawer a.selected,
.side-drawer a[aria-current="page"],
.side-drawer a.active,
.side-drawer a:focus {
  /* Rectángulo verde-limón detrás del texto para destacar el item seleccionado.
     Usamos un background sólido semi-opa y mantemos el texto oscuro para contraste. */
  background: rgba(163,230,53,0.98) !important; /* verde-limón fuerte */
  padding-left: 0.75rem !important;
  border-left: 4px solid rgba(34,197,94,0.98) !important;
  color: #062e03 !important; /* texto oscuro sobre limón */
  font-weight: 700 !important;
  box-shadow: none !important;
  transform: translateX(0);
  transition: background .18s ease, border-left .18s ease, box-shadow .18s ease, transform .12s ease;
}

/* Asegurar que el icono dentro del item seleccionado siga siendo oscuro y el texto blanco */
.side-drawer a.selected .menu-emoji,
.side-drawer a[aria-current="page"] .menu-emoji,
.side-drawer a.active .menu-emoji {
  /* emoji con fondo blanco y el icono en verde oscuro para contraste */
  background: #ffffff !important;
  color: #0b3a03 !important;
  box-shadow: 0 6px 12px rgba(0,0,0,0.45) !important;
}

/* Evitar que haya elementos con fondo blanco dentro del drawer que oculten el texto */
.side-drawer *[class*="bg-white"],
.side-drawer .bg-white,
.side-drawer .back-link {
  background: transparent !important;
  color: rgba(255,255,255,0.96) !important;
  border: none !important;
}

/* Enlaces o botones dentro del drawer que tengan clases de fondo deben forzarse transparentes */
.side-drawer [class*="bg-"],
.side-drawer [class*="card"],
.side-drawer button,
.side-drawer a {
  background: transparent !important;
}

/* Pequeño ajuste visual para el botón hamburguesa en header */
.hamburger:focus { outline: 2px solid rgba(255,255,255,0.2); }

/* Icono dentro del botón hamburger (ahora home SVG) */
.hamburger svg {
  display: block;
  width: 18px;
  height: 18px;
  fill: #ffffff; /* ensure white icon */
  stroke: none;
}
.hamburger:hover svg { opacity: 0.9; transform: scale(1.02); }

/* Ajustes para header en la página principal: eliminar fondo blanco del icono y asegurar contraste */
.principal-page header .hamburger {
  background: transparent;
  padding: 6px;
  border-radius: 8px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}
.principal-page header .hamburger svg { color: #0b3a03; }

/* Icono interno: barras */
.hamburger .bar {
  width: 20px;
  height: 2px;
  background: var(--foreground);
  display:block;
  position:relative;
  transition: transform .2s ease, opacity .2s ease;
}
.hamburger .bar:before,
.hamburger .bar:after {
  content: "";
  position: absolute;
  left: 0;
  width: 20px;
  height: 2px;
  background: inherit;
  transition: transform .2s ease;
}
.hamburger .bar:before { top: -6px; }
.hamburger .bar:after  { top: 6px; }

/* Animación al abrir (clase .open en el botón o en el drawer) */
.hamburger.open .bar { opacity: 0; }
.hamburger.open .bar:before { transform: translateY(6px) rotate(45deg); opacity: 1; }
.hamburger.open .bar:after  { transform: translateY(-6px) rotate(-45deg); opacity: 1; }

/* Responsive: en móvil el drawer ocupa más ancho, en desktop menos intrusivo */
@media (max-width: 640px) {
  .side-drawer { max-width: 85%; }
  .side-drawer.open { width: 85%; }
}
@media (min-width: 1024px) {
  .side-drawer { max-width: 360px; }
  .side-drawer.open { width: 320px; }
}

/* Variables reutilizables para degradado amarillo -> verde */
:root {
  --grad-amarillo: rgba(250, 204, 21, 0.18);
  --grad-amarillo-claro: rgba(254, 243, 199, 0.12);
  --grad-verde: rgba(220, 252, 231, 0.18);
}

/* Clase utilitaria: degradado amarillo -> verde (reusable) */
.bg-degradado-amarillo-verde {
  background: linear-gradient(135deg,
    var(--grad-amarillo) 0%,
    var(--grad-amarillo-claro) 40%,
    var(--grad-verde) 100%
  );
  background-repeat: no-repeat;
  background-attachment: fixed;
  background-size: cover;
  min-height: 100vh;
  position: relative;
}

/* Aplicar el mismo degradado a las páginas relevantes */
.login-page,
.register-page,
.emprendedores-page {
  /* Mantener la posibilidad de sobrescribir con una clase específica si hace falta */
  background: linear-gradient(135deg,
    var(--grad-amarillo) 0%,
    var(--grad-amarillo-claro) 40%,
    var(--grad-verde) 100%
  );
  background-repeat: no-repeat;
  background-attachment: fixed;
  background-size: cover;
  min-height: 100vh;
  position: relative;
}

/* Asegurar que el formulario (bg-white) esté por encima del fondo */
.login-page > div,
.register-page > div,
.emprendedores-page > div {
  position: relative;
  z-index: 2;
}

/* Fondo degradado para la página de login (amarillo -> verde) */
.login-page {
  background: linear-gradient(135deg,
    #fef08a 0%,   /* amarillo suave */
    #fff8b5 30%,
    #dcfce7 70%,  /* verde muy claro */
    #d1fae5 100%  /* verde suave */
  );
  background-repeat: no-repeat;
  background-attachment: fixed;
  background-size: cover;
  min-height: 100vh;
}

/* Opcional: overlay sutil para bajar brillo si se quiere (ajustar opacity) */
.login-page::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(0,0,0,0.02));
  z-index: 1;
}

/* Asegurar que el contenedor del formulario esté por encima del overlay */
.login-page > * {
  position: relative;
  z-index: 2;
}

/* Fondo verde limón para la página de reseñas */
.resenas-page {
  background: linear-gradient(180deg, #e7ffd2 0%, #c9f07a 100%); /* verde limón suave */
  min-height: 100vh;
  padding-top: 1rem;
  padding-bottom: 1rem;
}

/* Si la página tiene un contenedor interno habitualmente con fondo blanco, 
   mantenlo transparente para que se vea el fondo */
.resenas-page .page-container,
.perfil-page .profile-card {
  background: rgba(243,244,246,0.95) !important; /* gris claro: #f3f4f6 */
  color: #9fa59e !important; /* texto oscuro */
  opacity: 1 !important;
  border: 1px solid rgba(149, 163, 152, 0.04) !important; /* borde sutil */
  box-shadow: 0 8px 18px rgba(6,30,12,0.04) !important; /* sombra ligera y discreta */
  padding: 1.25rem !important;
}

/* Texto y labels dentro de la tarjeta transparente: usar colores oscuros */
.perfil-page .profile-card .font-bold,
.perfil-page .profile-card .text-gray-600,
.perfil-page .profile-card label,
.perfil-page .profile-card .form-label {
  color: #05281f !important;
}

/* Mantener inputs claros para legibilidad y consistencia con el formulario */
.perfil-page .profile-card input,
.perfil-page .profile-card textarea,
.perfil-page .profile-card select {
  background: #ffffff !important;
  color: #05281f !important;
  border: 1px solid rgba(0,0,0,0.08) !important;
}

/* Botones: conservar contraste (sin cambios visuales mayores) */
.perfil-page .profile-card .btn-primary,
.perfil-page .profile-card .bg-green-600,
.perfil-page .profile-card button.bg-green-600 {
  box-shadow: 0 8px 20px rgba(6,78,59,0.12) !important;
}
.perfil-page .profile-card button.bg-red-600 {
  box-shadow: 0 8px 20px rgba(220,38,38,0.12) !important;
}

/* Ajuste móvil: reducir padding dentro de la tarjeta */
@media (max-width: 640px) {
  .perfil-page .profile-card { padding: 0.9rem !important; }
}
.card-lugar { border-radius: 12px; overflow: hidden; transition: transform .18s ease, box-shadow .18s ease; }
.card-lugar:hover { transform: translateY(-6px); box-shadow: 0 18px 40px rgba(6,30,12,0.08); }
.card-lugar-img { display:block; width:100%; height:150px; object-fit:cover; }
.card-lugar .p-3 { padding: 1rem; }
.card-lugar .font-semibold { font-weight:700; color: #0b3a03; }

.comentarios-page .page-container form,
.comentarios-page .card form {
  background: #ffffff;
  padding: 1rem;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.06);
  border: 1px solid rgba(0,0,0,0.04);
  color: #111827; /* texto oscuro sobre fondo claro */
}

/* Inputs dentro del formulario */
.comentarios-page form input,
.comentarios-page form textarea,
.comentarios-page form select {
  background: #fff;
  border: 1px solid rgba(0,0,0,0.08);
  padding: 0.5rem;
  border-radius: 6px;
  color: #111827;
}

/* Ajustes móviles: menos padding */
@media (max-width: 640px) {
  .comentarios-page { padding-top: 0.5rem; padding-bottom: 0.5rem; }
  .comentarios-page form { padding: 0.75rem; }
  .comentarios-page form input,
  .comentarios-page form textarea,
  .comentarios-page form select { padding: 0.45rem; }
}

/* Página principal: quitar imagen de fondo, mantener contenedor */
.principal-search-bar {
  margin: -2.25rem auto 1.5rem;
  width: min(86ch, 980px);
  padding: 0 0.75rem;
}
.principal-search-bar form {
  display: flex;
  gap: 0.5rem;
  align-items: center;
  /* Transparente: sin fondo sólido, look similar al drawer (marca de agua) */
  background: transparent !important;
  padding: 0.35rem 0.6rem; /* aún más compacto */
  border-radius: 10px;
  /* sutil separación: outline en vez de fondo para no tapar la foto */
  box-shadow: inset 0 0 0 1px rgba(0,0,0,0.12), 0 6px 18px rgba(2,6,23,0.12);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
}
.principal-search-bar input[type="search"] {
  flex: 1 1 auto;
  border: 0;
  padding: 0.35rem 0.5rem;
  font-size: 0.95rem; /* slightly smaller */
  background: transparent !important; /* transparent over hero */
  color: #ffffff !important; /* text white to be legible */
  -webkit-text-fill-color: #ffffff !important;
  caret-color: #ffffff !important;
  /* remove visible internal borders so it looks like a floating input */
  border: none !important;
  box-shadow: none !important;
}
.principal-search-bar input[type="search"]::placeholder {
  color: rgba(255,255,255,0.75);
}
.principal-search-bar .btn-search {
  background: transparent;
  border: 0;
  color: #0b8f5a; /* green accent but darker to be visible over hero */
  font-weight: 700;
  padding: 0.25rem 0.5rem;
}

/* Compact icon/button for small screens */
@media (max-width: 640px) {
  .principal-search-bar { margin-top: -1.25rem; }
  .principal-search-bar form { padding: 0.45rem 0.6rem; border-radius: 8px; }
  .principal-search-bar input[type="search"] { font-size: 0.95rem; }
  .principal-search-bar .btn-search { font-size: 0.95rem; }
}
.site-logo {
  position: absolute;
  top: 100%;               /* justo debajo del header */
  right: 1rem;
  transform: translateY(1.5rem); /* separacion desde el borde del header */
  width: 96px;
  height: 96px;
  object-fit: cover;
  border-radius: 8px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.12);
  z-index: 80;
  background: rgba(255,255,255,0.6);
  padding: 4px;
}

/* Ajuste móvil: menos desplazamiento vertical */
@media (max-width: 640px) {
  .site-logo {
    transform: translateY(0.9rem); /* menor separación en móvil */
    right: 0.5rem;
    width: 56px;
    height: 56px;
    padding: 2px;
  }
}

/* Ajuste pantallas grandes: un poco más abajo si quieres */
@media (min-width: 1280px) {
  .site-logo {
    transform: translateY(2rem);
    width: 104px;
    height: 104px;
  }
}

/* En pantallas pequeñas la imagen pasa a cover para ocupar bien el fondo */
@media (max-width: 640px) {
  .principal-page {
    background-size: cover;
    background-position: center;
    align-items: flex-start;
    padding-top: 1rem;
    padding-bottom: 1rem;
  }
}

/* En pantallas grandes limitar la porción ocupada por la imagen (más discreta) */
@media (min-width: 1024px) {
  .principal-page {
    background-size: 40% auto;
    background-position: center;
  }
}

/* Cinta verde limón en el header (Agua Blanca + menú) */
.principal-page header {
  background: linear-gradient(90deg, #f6ffda 0%, #d8f27a 100%) !important; /* verde limón suave */
  color: #0b3a03 !important; /* texto oscuro para contraste */
}

/* Asegura que los elementos de texto dentro del header (ej. título) usen color oscuro */
.principal-page header .text-xl,
.principal-page header h1,
.principal-page header button,
.principal-page header a {
  color: #0b3a03 !important;
}

/* Barra del botón hamburguesa: más visible sobre el fondo claro */
.principal-page header button span {
  background: #0b3a03 !important;
}

/* Si hay iconos u otros elementos con fondo blanco, darles contraste ligero */
.principal-page header .bg-gray-200 {
  background: rgba(255,255,255,0.95) !important;
  color: #0b3a03 !important;
  opacity: 1 !important;
}

/* Asegura que el texto del header y del menú desplegable tenga contraste y no aparezca como marca de agua */
.principal-page header,
.principal-page header * {
  color: #0b3a03 !important; /* texto oscuro sobre fondo limón */
  opacity: 1 !important;
}

/* Menú desplegable: texto legible y fondo totalmente opaco */
.dropdown-menu,
.dropdown-menu a,
.dropdown-menu button {
  background: var(--color-background, #fff) !important;
  color: #0b3a03 !important;
  opacity: 1 !important;
}

/* Botones dentro del header (ej. Cuenta, Cerrar sesión) — garantizar contraste */
.principal-page header .bg-gray-200 {
  background: rgba(255,255,255,0.95) !important;
  color: #0b3a03 !important;
  opacity: 1 !important;
}

/* Inputs, textarea y selects: texto oscuro, caret visible, fondo blanco */
input, textarea, select {
  color: var(--foreground);
  background: #ffffff;
  opacity: 1;
  caret-color: var(--foreground);
  -webkit-text-fill-color: var(--foreground); /* para navegadores WebKit */
}

/* Placeholder más visible */
input::placeholder,
textarea::placeholder {
  color: rgba(0,0,0,0.5);
  opacity: 1;
}

/* Focus claro para inputs */
input:focus, textarea:focus, select:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(11,58,3,0.08);
  border-color: rgba(11,58,3,0.25);
}

/* Asegura que los elementos superpuestos no reduzcan la legibilidad */
.principal-page .site-logo,
.principal-page header,
.dropdown-menu {
  mix-blend-mode: normal;
}

/* Reglas globales para mejorar legibilidad en todo el proyecto */
header,
header * {
  color: #0b3a03 !important;
  opacity: 1 !important;
  mix-blend-mode: normal !important;
  filter: none !important;
  -webkit-font-smoothing: antialiased !important;
}

/* Logo, menús y dropdowns: opacidad y mezcla normal */
.site-logo,
.dropdown-menu,
.dropdown-menu * {
  opacity: 1 !important;
  mix-blend-mode: normal !important;
  filter: none !important;
}

/* Inputs / textarea / selects: texto oscuro y caret visible */
input, textarea, select, .input, .form-control {
  color: #111827 !important;
  background: #ffffff !important;
  opacity: 1 !important;
  caret-color: #111827 !important;
  -webkit-text-fill-color: #111827 !important;
  mix-blend-mode: normal !important;
}

/* Placeholders legibles */
input::placeholder,
textarea::placeholder {
  color: rgba(0,0,0,0.5) !important;
  opacity: 1 !important;
}

/* Botones en header: contraste asegurado */
header .bg-gray-200,
header button {
  background: rgba(255,255,255,0.96) !important;
  color: #0b3a03 !important;
  opacity: 1 !important;
}

/* Evitar overlays/filters que atenúen texto */
.side-backdrop,
.dropdown-menu,
.site-logo {
  background-blend-mode: normal !important;
  backdrop-filter: none !important;
}

/* Anulaciones específicas para móviles: garantizar texto nítido y fondos opacos
   NOTA: excluimos .login-page y .register-page para preservar sus degradados en móvil */
@media (max-width: 640px) {
	/* Forzar texto oscuro y opacidad completa en la mayor parte del DOM */
	html, body, main, header, nav, footer, section, article, aside,
	h1, h2, h3, h4, h5, h6, p, span, a, li, button, label, small, strong {
		color: #0b2730 !important;
		opacity: 1 !important;
		mix-blend-mode: normal !important;
		filter: none !important;
		-webkit-font-smoothing: antialiased !important;
		-moz-osx-font-smoothing: grayscale !important;
		-webkit-text-fill-color: #0b2730 !important;
	}

  /* Asegurar que overlays no atenúen el texto (excluye pseudo-elementos de login/register)
     Nota: NO incluimos aquí .side-backdrop ni .dropdown-menu porque necesitan conservar su
     fondo y comportamiento interactivo en móvil (backdrop y menús desplegables). */
  .site-logo, .backdrop, .overlay {
    opacity: 1 !important;
    mix-blend-mode: normal !important;
    filter: none !important;
    /* No forzamos background/pointer-events para elementos interactivos */
  }

  /* Fondos de tarjetas y la mayoría de componentes totalmente opacos para contraste.
    Excluimos elementos que deben mantener su fondo (ej. menus laterales y páginas temáticas). */
  /* Nota: excluimos específicamente el drawer lateral (nav.side-drawer) para que conserve su fondo verde */
  .card, .bg-white, nav:not(.side-drawer), .principal-page, .lugares-page {
    background-color: #ffffff !important;
    background: #ffffff !important;
    opacity: 1 !important;
    backdrop-filter: none !important;
    box-shadow: 0 6px 18px rgba(0,0,0,0.06) !important;
  }

	/* Inputs / textarea / selects: texto visible y caret claro */
	input, textarea, select, .input, .form-control {
		color: #111827 !important;
		background: #ffffff !important;
		opacity: 1 !important;
		caret-color: #111827 !important;
		-webkit-text-fill-color: #111827 !important;
		border-color: rgba(0,0,0,0.08) !important;
	}

	input::placeholder, textarea::placeholder {
		color: rgba(0,0,0,0.5) !important;
		opacity: 1 !important;
	}

	/* Enlaces y botones: contraste fuerte */
	a, button, .btn {
		color: #064e3b !important;
		opacity: 1 !important;
		text-decoration: none !important;
	}

	/* Aumentar contraste de iconos/labels con clases 'muted' */
	[class*="muted"], .muted, .text-muted, .subtle {
		color: #0b2730 !important;
		opacity: 1 !important;
	}
}

/* Fondo degradado para la página de emprendedores (amarillo -> verde) */
.emprendedores-page {
  background: linear-gradient(135deg,
    rgba(250,204,21,0.18) 0%,   /* amarillo suave */
    rgba(254,243,199,0.12) 40%,
    rgba(220,252,231,0.18) 80%, /* verde suave */
    rgba(209,250,229,0.14) 100%
  );
  background-repeat: no-repeat;
  background-attachment: fixed;
  background-size: cover;
  min-height: 100vh;
  /* opcional: ligera capa de blur como marca de agua */
  position: relative;
}

/* Si tienes pseudo-elementos decorativos, evita que las reglas móviles los anulen.
   Asegúrate de que en el bloque @media (max-width:640px) no esté incluida .emprendedores-page
   en la lista que fuerza fondo blanco. */

/* Principal: hero visual y ajustes de cards para aspecto profesional */
.principal-hero {
  /* Hero más grande: aumentamos visibilidad de la foto */
  position: relative;
  border-radius: 10px;
  overflow: hidden;
  max-height: 520px; /* mayor presencia en desktop */
  min-height: 420px;
}
.principal-hero-bg {
  position: absolute;
  inset: 0;
  background-image: url('/images/lugares/iglesia.jpg');
  background-size: cover;
  background-position: center center;
  /* Aumentar la visibilidad de la foto y reducir filtros para que se note más */
  opacity: 0.9; /* más visible */
  filter: saturate(1.02) contrast(1.02) blur(0px);
  z-index: 0;
}

/* Overlay muy sutil para mantener texto legible (pero lo dejaremos transparente si se quita el texto) */
.principal-hero::before {
  content: "";
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,0.06); /* muy sutil */
  z-index: 1;
}
.principal-hero-inner { position: relative; z-index: 2; padding: 1rem 1rem; }

/* Sombra ligera en el texto del hero para mantener legibilidad sobre la foto */
.principal-hero-inner h2,
.principal-hero-inner p {
  text-shadow: 0 3px 12px rgba(0,0,0,0.45);
}

/* Header actions inside the hero: position bottom-right over the portada */
.principal-hero .header-actions {
  position: absolute;
  right: 1rem;
  bottom: 1rem;
  display: flex;
  gap: 0.6rem;
  align-items: center;
  z-index: 30; /* above hero content */
}

/* Buttons and logo when placed inside the hero */
.principal-hero .header-actions .hamburger,
.principal-hero .header-actions .header-action,
.principal-hero .header-actions .btn-logout,
.principal-hero .header-actions .site-logo {
  box-shadow: 0 8px 28px rgba(2,6,23,0.45);
}
.principal-hero .header-actions .hamburger {
  background: rgba(255,255,255,0.06);
  color: #ffffff;
  padding: 0.45rem 0.6rem;
  border-radius: 8px;
}
.principal-hero .header-actions .site-logo {
  position: static !important;
  top: auto !important;
  right: auto !important;
  transform: none !important;
  width: 40px;
  height: 40px;
  object-fit: cover;
  border-radius: 8px;
  background: rgba(255,255,255,0.85);
  padding: 3px;
}
.principal-hero .header-actions .header-action {
  background: rgba(255,255,255,0.96);
  color: #065f46; /* verde oscuro para contraste */
  padding: 0.35rem 0.6rem;
  border-radius: 8px;
  font-weight: 600;
}
.principal-hero .header-actions .btn-logout {
  background: #ef4444;
  color: white;
  padding: 0.35rem 0.6rem;
  border-radius: 8px;
  font-weight: 600;
}

@media (max-width: 640px) {
  .principal-hero .header-actions {
    right: 0.75rem;
    bottom: 0.6rem;
    gap: 0.4rem;
  }
  .principal-hero .header-actions .site-logo { width: 32px; height: 32px; }
  .principal-hero .header-actions .header-action,
  .principal-hero .header-actions .btn-logout { padding: 0.25rem 0.5rem; font-size: 13px; }
}

/* Tarjetas de lugar rediseñadas: imagen con overlay, título y acción */
.card-lugar {
  border-radius: 12px;
  overflow: hidden;
  transition: transform .18s ease, box-shadow .18s ease;
  background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(250,250,250,0.96));
  border: 1px solid rgba(6,30,12,0.04);
}
.card-lugar-img { height: 180px; object-fit: cover; display:block; }
.card-lugar .p-3 { padding: 0.75rem; }
.card-lugar .font-semibold { font-weight:700; color: #064e3b; }
.card-lugar .meta {
  display:flex; gap:0.5rem; align-items:center; color:#55676b; font-size:0.9rem;
}
.card-lugar::after {
  content:''; position:absolute; left:0; right:0; bottom:0; height:56px; background: linear-gradient(180deg, rgba(0,0,0,0), rgba(0,0,0,0.08)); pointer-events:none;
}
.card-lugar:hover { transform: translateY(-6px); box-shadow: 0 20px 40px rgba(6,30,12,0.08); }

@media (max-width: 640px) {
  .card-lugar { border-radius: 10px; }
  /* Tarjetas más grandes en móvil para mejor legibilidad */
  .card-lugar-img { height: 180px; }
  .principal-hero { max-height: 320px; min-height: 260px; }
  .principal-hero-bg { background-position: center; opacity: 0.9; }
  .principal-hero-inner { padding: 0.8rem; }
  .principal-hero-inner h2 { font-size: 0.95rem; line-height: 1.05; }
  .principal-hero-inner p { font-size: 0.78rem; }
}

/* Barra de búsqueda compacta y separada del hero */
.principal-search-bar {
  margin-top: 1rem; /* despegar del hero */
  margin-bottom: 1.25rem;
}
.principal-search-bar form { position: relative; }
.principal-search-bar input {
  height: 44px;
  padding: 0.5rem 1rem;
  border-radius: 10px;
  box-shadow: 0 8px 20px rgba(6,30,12,0.06);
  border: 1px solid rgba(6,30,12,0.06);
}
.principal-search-bar button[type="submit"] {
  background: transparent; /* keep text visible */
  color: #065f46;
  font-weight: 700;
  border: none;
  padding: 0.25rem 0.6rem;
}
.principal-search-bar .clear-btn {
  color: #6b7280;
}

@media (max-width: 640px) {
  .principal-search-bar input { height: 40px; padding: 0.45rem 0.9rem; }
  .principal-search-bar { margin-top: 0.6rem; margin-bottom: 0.9rem; }
}

/* Compact row layout for lugar cards on small screens */
.card-lugar-row {
  display: flex;
  gap: 0.75rem;
  align-items: center;
  padding: 0.6rem;
}
.card-lugar-thumb {
  width: 96px;
  height: 80px;
  flex-shrink: 0;
  border-radius: 8px;
  overflow: hidden;
}
.card-lugar-body {
  flex: 1;
  display: flex;
  flex-direction: column;
  min-width: 0;
}

/* Delete pill */
.btn-delete-pill {
  background: #ef4444; /* rojo */
  color: #fff;
  border: none;
  padding: 0.28rem 0.6rem;
  font-size: 0.78rem;
  border-radius: 999px;
}
.btn-delete-pill:hover { background: #dc2626; }

@media (min-width: 641px) {
  /* En desktop mantenemos el estilo original de tarjeta (imagen arriba) */
  .card-lugar-row { display: block; }
  .card-lugar-thumb { width: 100%; height: 160px; border-radius: 8px; }
  .card-lugar-body { padding: 0.75rem; }
}

/* Botón de logout con estilo rojo, se puede usar en header para forzar color */
.btn-logout {
  background: #dc2626 !important; /* rojo fuerte */
  color: #fff !important;
  border: none !important;
  padding: 0.45rem 0.8rem !important;
  border-radius: 8px !important;
}

/* Wider rule to ensure tablet/mobile fallbacks keep the button in the corner */
@media (max-width: 1024px) {
  .principal-page header .hamburger {
    position: fixed !important;
    left: 12px !important;
    top: calc(env(safe-area-inset-top, 0px) + 12px) !important;
    z-index: 99999 !important;
    transform: none !important;
  }
}
.btn-logout:hover { background: #b91c1c !important; }

/* Header actions compact style */
.header-action {
  padding: 0.45rem 0.6rem;
  font-size: 0.95rem;
  border-radius: 8px;
}

.nuevo-form-bg {
  /* Fondo más cálido y suave para la página de registro */
  background: linear-gradient(180deg, #f7f8f6 0%, #f3f4f6 100%);
  min-height: 100vh;
  display: flex;
  align-items: flex-start;
  padding: 3rem 0;
  position: relative;
}

/* Specific styles for Nuevo Emprendedor page (creative gray background, warm card) */
.nuevo-emprendedor-page { background: #f3f4f6 !important; }
.nuevo-emprendedor-card {
  background: linear-gradient(180deg,#ffffff,#fbfbf9);
  border-radius: 16px;
  padding: 1.6rem;
  box-shadow: 0 18px 46px rgba(6,30,12,0.08);
  border: 1px solid rgba(6,30,12,0.04);
}
.nuevo-emprendedor-card h1 { color: #064e3b; }
.nuevo-emprendedor-card p { color: #475569; }
.nuevo-emprendedor-page .form-grid input,
.nuevo-emprendedor-page .form-grid textarea {
  background: #fbfcfb !important;
  border: none !important;
  padding: 0.65rem !important;
  border-radius: 12px !important;
  box-shadow: inset 0 1px 6px rgba(2,6,23,0.03) !important;
  color: #0b3a03 !important;
}
.nuevo-emprendedor-page .form-grid textarea { min-height: 120px; resize: vertical; }
.nuevo-emprendedor-page .form-actions { justify-content: flex-end; }

/* Accent stripe on the left of the card for a creative touch */
.nuevo-emprendedor-card::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 8px;
  border-radius: 12px 0 0 12px;
  background: linear-gradient(180deg, #f59e0b, #10b981);
}

/* Fix spacing because ::before is absolute inside the card */
.nuevo-emprendedor-card { position: relative; padding-left: 2.2rem; }


/* Layout: imagen y formulario lado a lado en desktop, apilado en móvil */
.nuevo-form-layout {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.5rem;
  align-items: start;
  max-width: 1100px;
  margin: 0 auto;
  width: calc(100% - 2rem);
  position: relative;
  z-index: 2;
}

.nuevo-form-image {
  /* Eliminada la imagen decorativa; mantenemos un bloque de reserva si se necesita */
  background: transparent;
  border-radius: 12px;
  min-height: 0;
  box-shadow: none;
  overflow: visible;
  display: none; /* ocultar columna de imagen en la versión sin foto */
}

.nuevo-form-container { display: flex; flex-direction: column; justify-content: flex-start; }

@media (max-width: 880px) {
  .nuevo-form-layout {
    grid-template-columns: 1fr;
    gap: 1rem;
  }
  .nuevo-form-image { min-height: 220px; border-radius: 10px; }
  .nuevo-form-container { padding: 0 1rem; }
}

/* Overlay aplicado al wrapper de fondo para bajar brillo de la imagen */
.nuevo-form-bg::before { display: none !important; }

/* Styles for 'Registrar nuevo lugar' form card (ahora sobre el fondo) */
.form-card {
  /* Tarjeta con look más amigable y cálido */
  background: linear-gradient(180deg,#ffffff,#fbfbf7);
  border-radius: 14px;
  padding: 1.5rem;
  box-shadow: 0 14px 34px rgba(12,34,18,0.06);
  position: relative;
  overflow: visible;
  z-index: 2;
  border: 1px solid rgba(6,30,12,0.04);
  max-width: 920px;
  margin: 0 auto;
}

/* Clase reutilizable para módulos con fondo gris translúcido estilo marca de agua */
.module-gray {
  background: rgba(24,24,24,0.06); /* gris suave translúcido */
  border: 1px solid rgba(0,0,0,0.06);
  backdrop-filter: blur(4px) saturate(1.02);
  -webkit-backdrop-filter: blur(4px) saturate(1.02);
  border-radius: 10px;
  padding: 0.75rem;
  box-shadow: 0 6px 18px rgba(6,30,12,0.04);
}

@media (prefers-color-scheme: dark) {
  .module-gray {
    background: rgba(255,255,255,0.04); /* invertir tono para modo oscuro */
    border: 1px solid rgba(255,255,255,0.04);
  }
}
.back-button {
  /* Por defecto conserva estilo cuando está dentro de la tarjeta (posición absoluta)
     pero si se coloca fuera de la tarjeta lo deberíamos mostrar en flujo normal.
     Usamos reglas específicas para ambos casos. */
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  border-radius: 8px;
  background: rgba(11,58,3,0.06);
  border: none;
  cursor: pointer;
}
.back-button:hover { background: rgba(11,58,3,0.09); }

/* Si queremos forzar la versión absoluta (cuando la back-button esté dentro del card) */
.form-card .back-button.absolute {
  position: absolute;
  top: 12px;
  left: 12px;
}

/* Nota: el overlay ahora está en .nuevo-form-bg::before para que la imagen quede fuera del form */

/* Asegurar que el contenido del formulario esté por encima del overlay */
.form-card > * { position: relative; z-index: 1; }

/* Back link estilo discreto dentro del header */
.back-link {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  border-radius: 8px;
  background: hwb(0 100% 0% / 0.851);
  border: 1px solid rgba(0,0,0,0.06);
  color: #08332a;
  cursor: pointer;
}
.back-link svg { color: #08332a; }
.back-link:hover { background: rgba(255,255,255,0.02) !important; transform: translateY(-1px); }

/* Botón fijo 'Regresar' en esquina */
.back-fixed {
  position: fixed;
  top: 14px;
  left: 14px;
  z-index: 1200;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 0.75rem;
  background: rgba(255,255,255,0.95);
  color: var(--brand-green-600);
  border: 1px solid rgba(6,78,59,0.08);
  box-shadow: 0 6px 18px rgba(0,0,0,0.06);
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
}
.back-fixed:hover { transform: translateY(-2px); box-shadow: 0 10px 28px rgba(0,0,0,0.09); }

@media (max-width: 640px) {
  .back-fixed { top: 10px; left: 8px; padding: 0.4rem 0.6rem; font-size: 0.92rem; }
}

.form-grid { display: flex; flex-direction: column; gap: 0.9rem; }
.form-grid.span-grid { gap: 1rem; }

/* Desktop: form becomes two-column grid when enough space */
@media (min-width: 880px) {
  .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; align-items: start; }
  .form-grid .span-2 { grid-column: 1 / -1; }
  .form-row { gap: 1rem; }
  .image-preview-wrap { width: 220px; height: 140px; }
}
.form-row { display:flex; gap: 0.75rem; align-items:flex-end; }
.form-field { display:flex; flex-direction:column; gap:0.35rem; }
.form-label { font-size: 0.9rem; color: #064e3b; font-weight: 600; }
.input-shadow { box-shadow: inset 0 -1px 0 rgba(0,0,0,0.03); }
.image-preview-wrap { width: 96px; height: 64px; overflow:hidden; border-radius:8px; border:1px solid rgba(0,0,0,0.06); }
.image-preview { width:100%; height:100%; object-fit:cover; display:block; }

/* Inputs y labels para alto contraste sobre fondo semi-transparente */
/* Inputs dentro de la tarjeta: look suave y redondeado */
.form-card input,
.form-card textarea,
.form-card select {
  background: #fbfcf9 !important;
  color: #05281f !important;
  border: none !important;
  box-shadow: inset 0 1px 4px rgba(2,6,23,0.04) !important;
  padding: 0.6rem !important;
  border-radius: 10px !important;
}
.form-card input::placeholder,
.form-card textarea::placeholder { color: rgba(11,58,3,0.32) !important; }
.form-label { color: var(--brand-green-600) !important; font-weight: 700; }

.form-actions { display:flex; gap:0.8rem; justify-content:flex-end; margin-top:0.75rem; }
.btn-primary { background: linear-gradient(180deg,#0ea5a3,#059669); color:#fff; padding:0.6rem 1.1rem; border-radius:8px; border:none; box-shadow: 0 8px 20px rgba(6,78,59,0.08); }
.btn-primary:disabled { opacity:0.6; }
.btn-secondary { background: transparent; border:1px solid rgba(6,30,12,0.06); padding:0.55rem 0.9rem; border-radius:8px; }

/* Botón para registrar (uso en listing de lugares y header) */
.btn-register {
  background: linear-gradient(180deg,#10b981,#059669) !important; /* green */
  color: #ffffff !important;
  padding: 0.5rem 0.95rem !important;
  border-radius: 10px !important;
  border: none !important;
  font-weight: 700 !important;
  box-shadow: 0 10px 26px rgba(6,78,59,0.12) !important;
}
.btn-register:hover { filter: brightness(0.97) !important; transform: translateY(-1px); }

@media (max-width: 640px) {
  .form-row { flex-direction: column; align-items: stretch; }
  .image-preview-wrap { width: 100%; height: 140px; }
  .back-button { top:10px; left:10px; width:34px; height:34px; }
  .form-card { padding: 0.9rem; }
  .form-actions { flex-direction: column-reverse; gap: 0.5rem; }
}

@media (max-width: 640px) {
  .header-action {
    padding: 0.28rem 0.45rem !important;
    font-size: 0.82rem !important;
  }
}

/* Final override: asegurar que el item seleccionado del drawer sea siempre visible
   (uso de selectores amplios y !important para vencer reglas anteriores) */
nav.side-drawer a.selected,
nav.side-drawer a[aria-current="page"],
nav.side-drawer a.active,
nav.side-drawer a:focus,
nav.side-drawer button.selected,
nav.side-drawer li.selected,
nav.side-drawer li[aria-current="page"] {
  background: linear-gradient(90deg, rgba(220,252,231,0.95), rgba(250,249,231,0.95)) !important;
  border-left: 4px solid rgba(34,197,94,0.98) !important;
  color: #0b3a03 !important;
  font-weight: 700 !important;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,0.02), 0 8px 24px rgba(0,0,0,0.45) !important;
}

nav.side-drawer a.selected .menu-emoji,
nav.side-drawer a[aria-current="page"] .menu-emoji,
nav.side-drawer a.active .menu-emoji,
nav.side-drawer li.selected .menu-emoji {
  background: #ffffff !important;
  color: #0b3a03 !important;
  box-shadow: 0 8px 20px rgba(0,0,0,0.45) !important;
}

/* También permitir selección por atributo data-active si se usa en JS */
nav.side-drawer [data-active="true"],
nav.side-drawer [data-selected="true"] {
  background: linear-gradient(90deg, rgba(220,252,231,0.95), rgba(250,249,231,0.95)) !important;
  color: #0b3a03 !important;
}

/* --------------------------------------------------
   Estilos para la página de Cuenta: perfil con foto
   y sección inferior con fondo gris claro (estética)
   -------------------------------------------------- */
.cuenta-page {
  padding-bottom: 3rem;
}

.profile-hero {
  position: relative;
  background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0));
  padding: 2.25rem 0 1rem;
}
.profile-hero-inner {
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  z-index: 2;
}
.profile-photo-wrap {
  width: 180px;
  height: 180px;
  border-radius: 999px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(180deg, rgba(255,255,255,0.96), rgba(250,250,250,0.98));
  box-shadow: 0 14px 36px rgba(6,30,12,0.09);
  padding: 8px;
  border: 1px solid rgba(6,30,12,0.04);
}
.profile-photo {
  width: 164px;
  height: 164px;
  object-fit: cover;
  border-radius: 999px;
  display: block;
}

/* Sección debajo de la foto: fondo gris claro con bordes redondeados */
.profile-details {
  margin-top: -40px; /* superponer ligeramente sobre la foto para el efecto del mockup */
  width: 100%;
}
.profile-card {
  max-width: 880px;
  margin: 0 auto;
  background: rgba(245,245,247,0.95); /* gris claro (fallback) */
  border: 1px solid rgba(0,0,0,0.04);
  border-radius: 12px;
  padding: 1.25rem;
  box-shadow: 0 8px 26px rgba(6,30,12,0.06);
}

/* Versión gris clara del formulario dentro de la página de perfil */
.perfil-page .profile-card {
  /* Fondo gris claro coherente con el resto del diseño */
  background: rgba(243,244,246,0.95) !important; /* #f3f4f6 */
  border: 1px solid rgba(0,0,0,0.04) !important;
  box-shadow: 0 8px 26px rgba(6,30,12,0.06) !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  color: #05281f !important; /* texto oscuro */
}

/* Texto y labels dentro de la tarjeta: contraste oscuro sobre gris claro */
.perfil-page .profile-card .font-bold,
.perfil-page .profile-card .text-gray-600,
.perfil-page .profile-card label,
.perfil-page .profile-card .form-label {
  color: #05281f !important;
  text-shadow: none !important;
}

/* Mantener inputs claros para legibilidad y consistencia con el formulario */
.perfil-page .profile-card input,
.perfil-page .profile-card textarea,
.perfil-page .profile-card select {
  background: #ffffff !important;
  color: #05281f !important;
  border: 1px solid rgba(0,0,0,0.08) !important;
}

/* Asegurar que los botones mantengan buen contraste en el fondo oscuro */
.perfil-page .profile-card .btn-primary,
.perfil-page .profile-card .bg-green-600,
.perfil-page .profile-card button.bg-green-600 {
  box-shadow: 0 8px 20px rgba(6,78,59,0.12) !important;
}
.perfil-page .profile-card button.bg-red-600 {
  box-shadow: 0 8px 20px rgba(220,38,38,0.12) !important;
}

/* Ajuste móvil: reducir padding dentro de la tarjeta oscura */
@media (max-width: 640px) {
  .perfil-page .profile-card { padding: 0.9rem !important; }
}

/* Fondo gris claro para la página de perfil (fuera del formulario) */
.perfil-page {
  position: relative; /* establece contexto para stacking */
  z-index: 1;
  /* Fondo gris explícito para asegurar que la página se vea gris aun si se revierten pseudo-elementos */
  background: #f3f4f6 !important;
  min-height: 100vh;
}
.perfil-page::before {
  content: "";
  position: fixed;
  inset: 0;
  /* Ocultamos el pseudo-elemento para evitar superposiciones inesperadas
     ya que ahora aplicamos el fondo directamente al contenedor. */
  display: none !important;
  z-index: 0; /* mantiene el stacking context por si otras reglas lo requieren */
}

/* Asegurar que el contenedor principal quede por encima del fondo */
.perfil-page > * {
  position: relative;
  z-index: 2;
}

/* Reglas con mayor especificidad para evitar overrides de utilidades o reglas globales */
.cuenta-page .profile-details .profile-card {
  background: rgba(245,245,247,0.95) !important;
  border: 1px solid rgba(0,0,0,0.04) !important;
  box-shadow: 0 10px 28px rgba(6,30,12,0.06) !important;
  padding: 1.25rem !important;
}
.cuenta-page .profile-hero .profile-photo-wrap {
  background: linear-gradient(180deg, rgba(255,255,255,0.96), rgba(250,250,250,0.98)) !important;
  box-shadow: 0 14px 36px rgba(6,30,12,0.09) !important;
  border: 1px solid rgba(6,30,12,0.04) !important;
}
.cuenta-page .profile-photo {
  width: 164px !important;
  height: 164px !important;
  border-radius: 999px !important;
}

/* Ajustes responsive: reducir la foto y el overlap en pantallas pequeñas */
@media (max-width: 640px) {
  .profile-photo-wrap { width: 140px; height: 140px; padding: 6px; }
  .profile-photo { width: 124px; height: 124px; }
  .profile-details { margin-top: -20px; padding: 0 0.5rem; }
  .profile-card { padding: 0.9rem; }
}


/* Mobile-specific drawer tweaks: asegurar texto blanco, espaciado táctil y legibilidad
   - Forzamos color blanco para el texto del menú en móvil, reducimos sombras y tamaño del emoji
   - Mejoramos padding para tap targets y hacemos la selección más contrastada en móvil */
@media (max-width: 640px) {
  /* Forzar texto blanco dentro del drawer en móvil (coherente con versión desktop) */
  nav.side-drawer,
  nav.side-drawer .drawer-header,
  nav.side-drawer .drawer-body,
  nav.side-drawer a,
  nav.side-drawer button,
  nav.side-drawer ul li {
    color: #ffffff !important;
    text-shadow: 0 2px 8px rgba(0,0,0,0.6) !important;
  }

  /* Aumentar tap target y spacing para móvil */
  nav.side-drawer a,
  nav.side-drawer button,
  nav.side-drawer ul li {
    padding: 0.9rem 0.9rem !important;
    font-size: 1.02rem !important;
    display: flex !important;
    align-items: center !important;
    gap: 0.75rem !important;
  }

  /* Emoji más pequeño y con sombra más sutil en móvil para evitar ocupar mucho espacio */
  nav.side-drawer .menu-emoji {
    width: 1.4rem !important;
    height: 1.4rem !important;
    font-size: 0.95rem !important;
    margin-right: 0.6rem !important;
    box-shadow: 0 6px 14px rgba(0,0,0,0.55) !important;
    background: rgba(0,0,0,0.72) !important; /* mantener contraste del icono */
  }

  /* Hover y active: en móvil usamos un fondo ligeramente translúcido para no tapar la imagen */
  nav.side-drawer a:hover,
  nav.side-drawer button:hover {
    background: rgba(255,255,255,0.06) !important;
    transform: none !important;
  }

  /* Estado seleccionado en móvil: usamos borde izquierdo y un fondo más oscuro (no demasiado claro)
     para mantener el contraste frente a la foto pero sin convertir todo en limón brillante */
  nav.side-drawer a.selected,
  nav.side-drawer a[aria-current="page"],
  nav.side-drawer a.active,
  nav.side-drawer li.selected,
  nav.side-drawer [data-active="true"],
  nav.side-drawer [data-selected="true"] {
    background: linear-gradient(90deg, rgba(34,197,94,0.14), rgba(255,255,255,0.02)) !important;
    border-left: 4px solid rgba(34,197,94,0.98) !important;
    color: #ffffff !important;
    font-weight: 700 !important;
    box-shadow: none !important;
  }

  /* Emoji dentro del item seleccionado: fondo blanco y color oscuro para el círculo del icono
     pero con menor sombra en móvil */
  nav.side-drawer a.selected .menu-emoji,
  nav.side-drawer a[aria-current="page"] .menu-emoji,
  nav.side-drawer a.active .menu-emoji,
  nav.side-drawer li.selected .menu-emoji,
  nav.side-drawer [data-active="true"] .menu-emoji {
    background: #ffffff !important;
    color: #0b3a03 !important;
    box-shadow: 0 6px 12px rgba(0,0,0,0.45) !important;
  }

  /* Evitar que haya elementos con fondo blanco dentro del drawer que oculten el texto en móvil */
  nav.side-drawer *[class*="bg-white"],
  nav.side-drawer .bg-white,
  nav.side-drawer .back-link {
    background: transparent !important;
    color: #ffffff !important;
    border: none !important;
  }
}

/* Regla agresiva para móvil: forzar blanco en textos, enlaces, svg, icons y utilidades de Tailwind
   para cubrir casos donde clases como text-sky-500 o fill-sky-500 están aplicadas. */
@media (max-width: 640px) {
  nav.side-drawer,
  nav.side-drawer * {
    color: #ffffff !important;
    -webkit-text-fill-color: #ffffff !important;
    text-shadow: 0 2px 8px rgba(0,0,0,0.6) !important;
  }

  /* Forzar fill/stroke de SVGs e iconos */
  nav.side-drawer svg,
  nav.side-drawer svg * {
    fill: #ffffff !important;
    stroke: #ffffff !important;
    color: #ffffff !important;
  }

  /* Forzar utilidades text-*/
  nav.side-drawer [class*="text-"] {
    color: #ffffff !important;
  }

  /* Forzar utilidades fill-*/
  nav.side-drawer [class*="fill-"] {
    fill: #ffffff !important;
  }

  /* Forzar color en elementos con estilos inline o pseudo elementos */
  nav.side-drawer *::before,
  nav.side-drawer *::after {
    color: #ffffff !important;
  }

  /* Asegurar placeholders en inputs (si existieran dentro del drawer) sean blancos */
  nav.side-drawer input::placeholder,
  nav.side-drawer textarea::placeholder {
    color: rgba(255,255,255,0.8) !important;
  }
}

  /* ---------- Overrides: header sobre la portada y botones destacados ---------- */
  /* Hacemos el header de la principal transparente y lo colocamos encima del hero */
  .principal-page header {
    background: transparent !important;
    color: #ffffff !important;
    position: absolute !important;
    left: 0 !important;
    right: 0 !important;
    top: 0 !important;
    z-index: 90 !important;
    padding: 0.6rem 1rem !important;
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    box-shadow: none !important;
  }

  /* Asegurar que textos e iconos dentro del header sean blancos sobre la portada */
  .principal-page header .text-xl,
  .principal-page header h1,
  .principal-page header button,
  .principal-page header a {
    color: #ffffff !important;
  }

  /* Ajuste visual para las barras del icono hamburger en la principal */
  .principal-page header .hamburger .bar,
  .principal-page header .hamburger span {
    background: #ffffff !important;
  }

  /* Agrupar las acciones del header y posicionarlas sobre la portada (derecha) */
  .principal-page header .header-actions {
    position: absolute !important;
    right: 1rem !important;
    top: 0.8rem !important;
    display: flex !important;
    gap: 0.6rem !important;
    align-items: center !important;
    z-index: 95 !important;
  }

  /* Botón 'Cuenta' (usar .btn-register si existe) — fondo claro para destacar sobre la portada */
  .principal-page header .header-actions .btn-register,
  .principal-page header .header-actions .btn-account {
    background: rgba(255,255,255,0.95) !important;
    color: #0b3a03 !important;
    border-radius: 8px !important;
    padding: 0.45rem 0.7rem !important;
    border: 1px solid rgba(6,78,59,0.06) !important;
    box-shadow: 0 8px 20px rgba(0,0,0,0.08) !important;
  }

  /* Botón 'Cerrar sesión' — color rojo destacado */
  .principal-page header .header-actions .btn-logout {
    background: #dc2626 !important;
    color: #ffffff !important;
    border-radius: 8px !important;
    padding: 0.45rem 0.75rem !important;
    box-shadow: 0 8px 26px rgba(0,0,0,0.12) !important;
    border: none !important;
  }

  /* En pantallas pequeñas reducir padding y mantener legibilidad */
  @media (max-width: 640px) {
    .principal-page header .header-actions {
      top: 0.6rem !important;
      right: 0.6rem !important;
      gap: 0.4rem !important;
    }
    .principal-page header .header-actions .btn-register,
    .principal-page header .header-actions .btn-account,
    .principal-page header .header-actions .btn-logout {
      padding: 0.36rem 0.5rem !important;
      font-size: 0.92rem !important;
    }
    /* Evitar que los botones tapen el hero en dispositivos muy pequeños: se hacen semi-compactos */
    .principal-page header .header-actions .btn-register { display: inline-flex !important; }
  }

  /* Si el markup no tiene la agrupación .header-actions, aplicamos estilo directo a los botones dentro del header */
  .principal-page header .btn-register:not(.header-actions *),
  .principal-page header .btn-logout:not(.header-actions *) {
    margin-left: 0.5rem !important;
  }

  /* Pequeña transición para cuando se muestren/oculten */
  .principal-page header .btn-register,
  .principal-page header .btn-logout {
    transition: transform .12s ease, box-shadow .12s ease, opacity .12s ease !important;
  }

  /* Fin de overrides de header */

  /* Make header actions sit inside the hero: use a hero-height variable and calculate offsets
     so the buttons appear at the inner corner of the portada (right edge, near bottom of hero)
     without changing markup. */
  :root {
    --principal-hero-height: 360px; /* default desktop hero height (matches .principal-hero max-height) */
  }

  /* mobile hero height fallback */
  @media (max-width: 640px) {
    :root { --principal-hero-height: 220px; }
  }

  /* Position header actions relative to the hero: place them near the bottom-right inside hero */
  .principal-page header .header-actions {
    /* place vertically near the bottom of the hero (hero height minus ~3rem) */
    top: calc(var(--principal-hero-height) - 3.2rem) !important;
    /* Align horizontally with the centered main container (max-width:980px) when possible.
       If the viewport is narrower than 980px the fallback 'right: 1rem' applies. */
    right: calc((100% - 980px) / 2 + 1rem) !important;
    transition: top .18s ease, right .18s ease;
  }

  /* If the viewport is narrower than the content width, keep actions close to the edge */
  @media (max-width: 1024px) {
    .principal-page header .header-actions {
      right: 1rem !important;
      top: calc(var(--principal-hero-height) - 2.6rem) !important;
    }
  }

  /* Ensure header does not overflow the hero area visually */
  .principal-page header {
    overflow: visible !important;
  }

  /* Mobile-first responsive tweaks ------------------------------------------------ */
  @media (max-width: 880px) {
    /* Reduce hero height on small screens */
    .principal-hero { max-height: 360px; min-height: 200px; }
    .principal-hero-bg { background-position: center top; opacity: 0.95; }
    .principal-hero-inner { padding: 0.75rem 0.75rem; }

    /* Make the menu button compact but keep the label visible on small screens */
    .hamburger { padding: 6px 8px; }
    .hamburger .menu-label {
      display: inline-block !important;
      font-size: 0.78rem !important;
      padding: 0.12rem 0.36rem !important;
    }

    /* Compact search bar under hero */
    .principal-search-bar { margin-top: -1.25rem; width: calc(100% - 2rem); }
    .principal-search-bar form { padding: 0.4rem 0.5rem; border-radius: 8px; }
    .principal-search-bar input[type="search"] { padding: 0.45rem 0.9rem; font-size: 0.95rem; }
    .principal-search-bar .btn-search { padding: 0.28rem 0.45rem; font-size: 0.95rem; }

    /* Cards stack and have larger tap targets */
    .card-lugar-row { gap: 1rem; padding: 0.75rem; }
    .card-lugar-thumb { width: 100px; height: 84px; border-radius: 8px; }

    /* Reduce paddings and make text sizes appropriate */
    .page-title { font-size: 1.05rem; }
    .btn-register { padding: 0.5rem 0.85rem; font-size: 0.92rem; }
  }

  @media (max-width: 420px) {
    .principal-hero { max-height: 280px; min-height: 160px; }
    .principal-hero-inner { padding: 0.6rem; }
    .hamburger { padding: 6px 8px; border-radius: 8px; }
    .hamburger .menu-label { font-size: 0.72rem !important; padding: 0.1rem 0.28rem !important; }
    .principal-search-bar input[type="search"] { font-size: 0.9rem; }
    .card-lugar-thumb { width: 96px; height: 72px; }
  }

  /* Fix menu button to top-left on small screens so it's always reachable */
  @media (max-width: 880px) {
    .principal-page header .hamburger {
      position: fixed !important;
      left: 12px !important;
      top: 12px !important;
      z-index: 9999 !important;
      transform: none !important;
      /* keep desktop pill look */
      background: linear-gradient(180deg,#10b981,#059669) !important;
      color: #fff !important;
      padding: 8px 12px !important;
      border-radius: 999px !important;
      box-shadow: 0 10px 30px rgba(6,78,59,0.18) !important;
    }
    /* make sure header doesn't cover the button */
    .principal-page header { padding-top: 2.5rem !important; }
  }

  /* Accessibility: ensure focus ring is visible on small screens */
  @media (max-width: 1024px) {
    .hamburger:focus { outline: 3px solid rgba(16,185,129,0.18); }
    .principal-search-bar input:focus { box-shadow: 0 0 0 4px rgba(16,185,129,0.12); }
  }

  /* End mobile tweaks ------------------------------------------------------------- */
